@import 'tailwindcss';

@custom-media --color-scheme-dark (prefers-color-scheme: dark);
@custom-variant dark (&:where(.dark, .dark *));

@theme {
	--color-surface-50: rgb(220 229 224);
	--color-surface-100: rgb(208 221 213);
	--color-surface-200: rgb(196 212 203);
	--color-surface-300: rgb(161 186 171);
	--color-surface-400: rgb(91 135 108);
	--color-surface-500: rgb(20 83 45);
	--color-surface-600: rgb(18 75 41);
	--color-surface-700: rgb(15 62 34);
	--color-surface-800: rgb(12 50 27);
	--color-surface-900: rgb(10 41 22);
	--color-surface-950: rgb(10 41 22);

	--color-primary-500: rgb(139 92 246);
	--color-secondary-500: rgb(236 72 153);
	--color-tertiary-500: rgb(20 184 166);
	--color-success-500: rgb(16 185 129);
	--color-warning-500: rgb(245 158 11);
	--color-error-500: rgb(239 68 68);
}

/* Apply Rubik font globally */
html {
	font-family: 'Rubik', system-ui, sans-serif;
}

/* Smooth transitions for theme switching */
* {
	transition:
		background-color 0.2s ease,
		color 0.2s ease;
}

/* View Transitions API Animations */
@supports (view-transition-name: none) {
	/* Default page transition */
	::view-transition-old(root) {
		animation: fade-out 0.3s ease-out;
	}

	::view-transition-new(root) {
		animation: fade-in 0.3s ease-out;
	}

	/* Image transitions - zoom effect */
	[style*='view-transition-name: post-image'] {
		contain: layout;
	}

	/* Smooth scaling and positioning for images */
	::view-transition-old(post-image-*),
	::view-transition-new(post-image-*) {
		animation-duration: 0.4s;
		animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
	}

	/* Keyframes for fade effects */
	@keyframes fade-out {
		from {
			opacity: 1;
		}
		to {
			opacity: 0;
		}
	}

	@keyframes fade-in {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	/* Disable default cross-fade for smoother image transitions */
	::view-transition-group(*) {
		animation-duration: 0.4s;
		animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
	}

	/* Hide the old image immediately to prevent double image effect */
	::view-transition-old(post-image-*) {
		animation: none;
		opacity: 0;
	}

	/* The new image gets the full transition */
	::view-transition-new(post-image-*) {
		animation: none;
		opacity: 1;
	}

	/* Ensure the image container scales smoothly */
	::view-transition-image-pair(post-image-*) {
		animation: none;
	}
}
